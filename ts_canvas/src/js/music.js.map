{"version":3,"sources":["music.ts"],"names":[],"mappings":"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","file":"music.js","sourcesContent":["class Music {\r\n    audio: any;\r\n    ctx: AudioContext;\r\n    audioSrc: MediaElementAudioSourceNode;\r\n    analyser: AnalyserNode;\r\n    audioData: any[];\r\n    sepValue: any;\r\n    frequencyData: Uint8Array;\r\n\r\n\r\n    constructor(sepValue) {\r\n        const vm = this;\r\n        vm.audio = new Audio();\r\n        vm.audio.src = 'content/time.mp3';\r\n        vm.audio.controls = false;\r\n        vm.audio.loop = true;\r\n        vm.audio.autoplay = true;\r\n\r\n        vm.ctx = new AudioContext();\r\n        vm.audioSrc = vm.ctx.createMediaElementSource(vm.audio);\r\n        vm.analyser = vm.ctx.createAnalyser();\r\n        vm.audioData = [];\r\n        vm.sepValue = sepValue;\r\n\r\n        // Connect the MediaElementSource with the analyser\r\n        vm.audioSrc.connect(vm.analyser);\r\n        vm.audioSrc.connect(vm.ctx.destination);\r\n\r\n        // FrequencyBinCount tells how many values are receive from the analyser\r\n        vm.frequencyData = new Uint8Array(vm.analyser.frequencyBinCount);\r\n\r\n        console.dir(vm.audio);\r\n\r\n        vm.audio.play();\r\n    }\r\n\r\n    getFrequencyData() {\r\n        this.analyser.getByteFrequencyData(this.frequencyData);\r\n        console.log(this.frequencyData);\r\n        return this.frequencyData;\r\n    };\r\n\r\n    getAudioData() {\r\n        this.analyser.getByteFrequencyData(this.frequencyData);\r\n\r\n        // Split array into 3\r\n        let frequencyArray = this.splitFrenquencyArray(this.frequencyData,\r\n            this.sepValue);\r\n\r\n        // Make average of frenquency array entries\r\n        for (let i = 0; i < frequencyArray.length; i++) {\r\n            let average = 0;\r\n\r\n            for (let j = 0; j < frequencyArray[i].length; j++) {\r\n                average += frequencyArray[i][j];\r\n            }\r\n            this.audioData[i] = (average / frequencyArray[i].length) / 255;\r\n        }\r\n        console.log(this.audioData);\r\n        return this.audioData;\r\n    }\r\n\r\n    splitFrenquencyArray(arr, n) {\r\n        let tab = Object.keys(arr).map(function (key) {\r\n            return arr[key]\r\n        });\r\n        let len = tab.length,\r\n            result = [],\r\n            i = 0;\r\n\r\n        while (i < len) {\r\n            let size = Math.ceil((len - i) / n--);\r\n            result.push(tab.slice(i, i + size));\r\n            i += size;\r\n        }\r\n        return result;\r\n    }\r\n}\r\n\r\nclass Circle {\r\n\r\n    app: App;\r\n    x: number;\r\n    y: number;\r\n    fillcolor: string;\r\n    strokecolor: string;\r\n    width: number;\r\n    radius: number;\r\n    start: number;\r\n    end: number;\r\n\r\n    constructor(app: App, x: number, y: number, fillcolor: string, strokecolor: string, width: number, radius: number, start: number, end: number) {\r\n        this.app = app;\r\n        this.x = x;\r\n        this.y = y;\r\n        this.fillcolor = fillcolor;\r\n        this.strokecolor = strokecolor;\r\n        this.width = width;\r\n        this.radius = radius;\r\n        this.start = start;\r\n        this.end = end;\r\n    }\r\n    draw() {\r\n        const ctx = this.app.ctx;\r\n        ctx.beginPath();\r\n        ctx.arc(this.x, this.y, this.radius, this.start, this.end);\r\n        ctx.strokeStyle = this.strokecolor;\r\n        ctx.lineWidth = this.width;\r\n        ctx.stroke();\r\n        ctx.fillStyle = this.fillcolor;\r\n        ctx.fill();\r\n    }\r\n}\r\n\r\nclass bezCircle {\r\n\r\n    app: App;\r\n    ctx: CanvasRenderingContext2D;\r\n    c: number;\r\n    cx: number;\r\n    cy: number;\r\n    r: number;\r\n    rx: number;\r\n    ry: number;\r\n\r\n    constructor(app, cx, cy, r) {\r\n\r\n        this.app = app;\r\n        this.ctx = app.ctx;\r\n\r\n        this.c = 0.5522847498307933984022516322796;\r\n        this.cx = cx; // center x\r\n        this.cy = cy; // center y\r\n        this.r = r;  // radius\r\n\r\n    }\r\n\r\ndraw() {\r\n        const vm = this;\r\n\r\n        this.ctx.lineWidth = 5;\r\n\r\n        this.ctx.translate(300, 300); // translate to centerpoint\r\n\r\n        this.ctx.beginPath();\r\n\r\n        this.ctx.moveTo(vm.cx, vm.cy - vm.r);\r\n        this.ctx.bezierCurveTo(\r\n            this.c * (vm.cx + vm.r), vm.cy - vm.r,\r\n            (vm.cx + vm.r), -this.c * (vm.cy + vm.r),\r\n            (vm.cx + vm.r), vm.cy\r\n        );\r\n        this.ctx.strokeStyle = 'red';\r\n        this.ctx.stroke();\r\n\r\n        this.ctx.beginPath();\r\n        this.ctx.moveTo(vm.cx + vm.r, vm.cx);\r\n        this.ctx.bezierCurveTo(\r\n            (vm.cx + vm.r), this.c * (vm.cy + vm.r),\r\n            this.c * (vm.cx + vm.r), (vm.cy + vm.r),\r\n            vm.cx, (vm.cy + vm.r)\r\n        );\r\n        this.ctx.strokeStyle = 'green';\r\n        this.ctx.stroke();\r\n\r\n        this.ctx.beginPath();\r\n        this.ctx.moveTo(vm.cx, vm.cy + vm.r);\r\n        this.ctx.bezierCurveTo(\r\n            -this.c * (vm.cx + vm.r), (vm.cy + vm.r),\r\n            (vm.cx - vm.r), this.c * (vm.cy + vm.r),\r\n            (vm.cx - vm.r), vm.cy\r\n        );\r\n        this.ctx.strokeStyle = 'blue';\r\n        this.ctx.stroke();\r\n\r\n        this.ctx.beginPath();\r\n        this.ctx.moveTo(vm.cx + vm.r, vm.cy);\r\n        this.ctx.bezierCurveTo(\r\n            (vm.cx - vm.r), -this.c * (vm.cy + vm.r),\r\n            -this.c * (vm.cx + vm.r), (vm.cy - vm.r),\r\n            vm.cx, (vm.cy - vm.r)\r\n        );\r\n        this.ctx.strokeStyle = 'gold';\r\n        this.ctx.stroke();\r\n    }\r\n}\r\n\r\n\r\nclass App {\r\n    canvas: HTMLCanvasElement;\r\n    ctx: CanvasRenderingContext2D;\r\n    w: number;\r\n    h: number;\r\n    music: Music;\r\n    circle: Circle;\r\n    circle2: Circle;\r\n    circle3: Circle;\r\n    arr: any[];\r\n\r\n    bCircle: bezCircle;\r\n\r\n    constructor() {\r\n        //Codepen doesn't like casting :'(\r\n        // this.canvas = document.getElementById('canvas');\r\n        this.canvas = <HTMLCanvasElement>document.getElementById('canvas');\r\n        this.ctx = this.canvas.getContext('2d');\r\n\r\n        this.ctx.font = \"30px Arial\";\r\n\r\n        this.sizeCanvas();\r\n        this.initEvents();\r\n        window.requestAnimationFrame((t) => { this.draw(t); });\r\n        console.log(this);\r\n        this.music = new Music(3);\r\n        this.circle = new Circle(this, 400, 200, 'rgba(0,0,0,0)', 'purple', 5, 25, 0, 2 * Math.PI);\r\n        this.circle2 = new Circle(this, 400, 200, 'rgba(0,0,0,0)', 'blue', 5, 50, 0, 2 * Math.PI);\r\n        this.circle3 = new Circle(this, 400, 200, 'rgba(0,0,0,0)', 'red', 5, 100, 0, 2 * Math.PI);\r\n        this.arr = new Array;\r\n\r\n        this.bCircle = new bezCircle(this, 150, 150, 100);\r\n        this.bCircle.draw();\r\n\r\n    }\r\n    initEvents() {\r\n        window.onresize = (e) => { this.sizeCanvas() };\r\n    }\r\n    sizeCanvas() {\r\n        this.w = this.ctx.canvas.width = window.innerWidth;\r\n        this.h = this.ctx.canvas.height = window.innerHeight - 50;\r\n    }\r\n    draw(t) {\r\n        window.requestAnimationFrame((t) => { this.draw(t); });\r\n\r\n\r\n        // this.ctx.clearRect(0, 0, 190, this.h);\r\n\r\n        this.ctx.fillStyle = 'white';\r\n\r\n        // this.ctx.fillText('treble: ' + this.music.getAudioData()[0], 10, 100);\r\n        // this.ctx.fillText('bass: ' + this.music.getAudioData()[1], 10, 150);\r\n        // this.ctx.fillText('percussion: ' + this.music.getAudioData()[2], 10, 200);\r\n\r\n\r\n\r\n        // this.ctx.fillStyle = 'rgba(0,0,0,0.3)';\r\n        // this.ctx.fillRect(190, 0, this.w, this.h);\r\n\r\n\r\n        this.circle.radius = 100 * this.music.getAudioData()[2] + 25;\r\n        this.circle2.radius = 100 * this.music.getAudioData()[1] + 50;\r\n        this.circle3.radius = 100 * this.music.getAudioData()[0] + 100;\r\n\r\n        // this.circle3.draw();\r\n        // this.circle2.draw();\r\n        // this.circle.draw();\r\n\r\n        this.music.getAudioData();\r\n\r\n\r\n    }\r\n}\r\n\r\nvar app = new App();\r\n"],"sourceRoot":"/source/"}