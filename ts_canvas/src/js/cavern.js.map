{"version":3,"sources":["cavern.ts"],"names":[],"mappings":"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","file":"cavern.js","sourcesContent":["\r\nclass Circle {\r\n\r\n    app: App;\r\n    x: number;\r\n    y: number;\r\n    fillcolor: string;\r\n    strokecolor: string;\r\n    width: number;\r\n    radius: number;\r\n    start: number;\r\n    end: number;\r\n\r\n    constructor(app: App, x: number, y: number, fillcolor: string, strokecolor: string, width: number, radius: number, start: number, end: number) {\r\n        this.app = app;\r\n        this.x = x;\r\n        this.y = y;\r\n        this.fillcolor = fillcolor;\r\n        this.strokecolor = strokecolor;\r\n        this.width = width;\r\n        this.radius = radius;\r\n        this.start = start;\r\n        this.end = end;\r\n    }\r\n    draw() {\r\n        const ctx = this.app.ctx;\r\n        ctx.beginPath();\r\n        ctx.arc(this.x, this.y, this.radius, this.start, this.end);\r\n        ctx.strokeStyle = this.strokecolor;\r\n        ctx.lineWidth = this.width;\r\n        ctx.stroke();\r\n        ctx.fillStyle = this.fillcolor;\r\n        ctx.fill();\r\n    }\r\n}\r\n\r\nclass Tri {\r\n\r\n    app: App;\r\n    fillcolor: string;\r\n    strokecolor: string;\r\n    linewidth: number;\r\n    radius: number;\r\n    start: number;\r\n    end: number;\r\n    x1: number;\r\n    y1: number;\r\n    x2: number;\r\n    y2: number;\r\n    x3: number;\r\n    y3: number;\r\n\r\n    constructor(app: App, fillcolor: string, strokecolor: string, linewidth: number, x1: number, y1: number, x2: number, y2: number, x3: number, y3: number) {\r\n        this.app = app;\r\n        this.fillcolor = fillcolor;\r\n        this.strokecolor = strokecolor;\r\n        this.linewidth = linewidth;\r\n        this.x1 = x1;\r\n        this.y1 = y1;\r\n        this.x2 = x2;\r\n        this.y2 = y2;\r\n        this.x3 = x3;\r\n        this.y3 = y3;\r\n\r\n    }\r\n    draw() {\r\n        const ctx = this.app.ctx;\r\n        ctx.beginPath();\r\n        ctx.moveTo(this.x1, this.y1);\r\n        ctx.lineTo(this.x2, this.y2);\r\n        ctx.lineTo(this.x3, this.y3);\r\n        ctx.closePath();\r\n\r\n        if (this.linewidth !== 0) {\r\n            ctx.strokeStyle = this.strokecolor;\r\n            ctx.lineWidth = this.linewidth;\r\n            ctx.stroke();\r\n        }\r\n\r\n        ctx.fillStyle = this.fillcolor;\r\n        ctx.fill();\r\n    }\r\n}\r\n\r\n\r\nclass Quad {\r\n\r\n    app: App;\r\n    fillcolor: string;\r\n    strokecolor: string;\r\n    linewidth: number;\r\n    radius: number;\r\n    start: number;\r\n    end: number;\r\n    x1: number;\r\n    y1: number;\r\n    x2: number;\r\n    y2: number;\r\n    x3: number;\r\n    y3: number;\r\n    x4: number;\r\n    y4: number;\r\n\r\n    constructor(app: App, fillcolor: string, strokecolor: string, linewidth: number, x1: number, y1: number, x2: number, y2: number, x3: number, y3: number, x4: number, y4: number) {\r\n        this.app = app;\r\n        this.fillcolor = fillcolor;\r\n        this.strokecolor = strokecolor;\r\n        this.linewidth = linewidth;\r\n        this.x1 = x1;\r\n        this.y1 = y1;\r\n        this.x2 = x2;\r\n        this.y2 = y2;\r\n        this.x3 = x3;\r\n        this.y3 = y3;\r\n        this.x4 = x4;\r\n        this.y4 = y4;\r\n    }\r\n    draw() {\r\n        const ctx = this.app.ctx;\r\n        ctx.beginPath();\r\n        ctx.moveTo(this.x1, this.y1);\r\n        ctx.lineTo(this.x2, this.y2);\r\n        ctx.lineTo(this.x3, this.y3);\r\n        ctx.lineTo(this.x4, this.y4);\r\n        ctx.closePath();\r\n\r\n        if (this.linewidth !== 0) {\r\n            ctx.strokeStyle = this.strokecolor;\r\n            ctx.lineWidth = this.linewidth;\r\n            ctx.stroke();\r\n        }\r\n\r\n        ctx.fillStyle = this.fillcolor;\r\n        ctx.fill();\r\n    }\r\n}\r\n\r\nclass Chasm {\r\n    app: App;\r\n\r\n    linewidth: number;\r\n    fillcolor: string;\r\n    strokecolor: string;\r\n\r\n    ratio: number;\r\n\r\n    wall_left: Quad;\r\n    wall_right: Quad;\r\n    wall_top: Quad;\r\n    wall_bot: Quad;\r\n    wall_middle: Quad;\r\n    pos_x: number;\r\n    pos_y: number;\r\n    size_x: number;\r\n    size_y: number;\r\n    middle_x: number;\r\n    middle_y: number;\r\n    grd: CanvasGradient;\r\n    constructor(app: App, linewidth: number, fillcolor: string, strokecolor: string, pos_x: number, pos_y: number, size_x: number, size_y: number, middle_x: number, middle_y: number) {\r\n        this.app = app;\r\n        this.pos_x = pos_x;\r\n        this.pos_y = pos_y;\r\n        this.size_x = size_x;\r\n        this.size_y = size_y;\r\n        this.middle_x = middle_x;\r\n        this.middle_y = middle_y;\r\n        this.fillcolor = fillcolor;\r\n        this.strokecolor = strokecolor;\r\n        this.linewidth = linewidth;\r\n\r\n        this.ratio = this.size_x / this.size_y;\r\n\r\n        this.grd = this.app.ctx.createLinearGradient(0, 0, 170, 0);\r\n        this.grd.addColorStop(0, \"black\");\r\n        this.grd.addColorStop(1, \"white\");\r\n\r\n\r\n    }\r\n    draw() {\r\n        this.wall_left = new Quad(this.app, this.fillcolor, this.strokecolor, this.linewidth, (this.pos_x - this.middle_x), (this.pos_y - this.middle_y), (this.pos_x - this.size_x), (this.pos_y - this.size_y), (this.pos_x - this.size_x), (this.pos_y + this.size_y), (this.pos_x - this.middle_x), (this.pos_y + this.middle_y));\r\n        this.wall_top = new Quad(this.app, this.fillcolor, this.strokecolor, this.linewidth, (this.pos_x - this.middle_x), (this.pos_y - this.middle_y), (this.pos_x - this.size_x), (this.pos_y - this.size_y), (this.pos_x + this.size_x), (this.pos_y - this.size_y), (this.pos_x + this.middle_x), (this.pos_y - this.middle_y));\r\n        this.wall_right = new Quad(this.app, this.fillcolor, this.strokecolor, this.linewidth, (this.pos_x + this.middle_x), (this.pos_y + this.middle_y), (this.pos_x + this.size_x), (this.pos_y + this.size_y), (this.pos_x + this.size_x), (this.pos_y - this.size_y), (this.pos_x + this.middle_x), (this.pos_y - this.middle_y));\r\n        this.wall_bot = new Quad(this.app, this.fillcolor, this.strokecolor, this.linewidth, (this.pos_x + this.middle_x), (this.pos_y + this.middle_y), (this.pos_x + this.size_x), (this.pos_y + this.size_y), (this.pos_x - this.size_x), (this.pos_y + this.size_y), (this.pos_x - this.middle_x), (this.pos_y + this.middle_y));\r\n        this.wall_middle = new Quad(this.app, 'black', this.strokecolor, this.linewidth, (this.pos_x + this.middle_x), (this.pos_y + this.middle_y), (this.pos_x + this.middle_x), (this.pos_y - this.middle_y), (this.pos_x - this.middle_x), (this.pos_y - this.middle_y), (this.pos_x - this.middle_x), (this.pos_y + this.middle_y));\r\n\r\n        this.wall_left.draw();\r\n        this.wall_right.draw();\r\n        this.wall_top.draw();\r\n        this.wall_bot.draw();\r\n        this.wall_middle.draw();\r\n    }\r\n}\r\n\r\n\r\nclass App {\r\n    canvas: HTMLCanvasElement;\r\n    ctx: CanvasRenderingContext2D;\r\n    w: number;\r\n    h: number;\r\n    chasm: Chasm;\r\n    player: Tri;\r\n    arr: any[];\r\n    iter: number;\r\n    start: boolean;\r\n    frequency: number;\r\n    speed: number;\r\n\r\n    constructor() {\r\n        this.canvas = <HTMLCanvasElement>document.getElementById('canvas');\r\n        this.ctx = this.canvas.getContext('2d');\r\n        this.sizeCanvas();\r\n        this.initEvents();\r\n        window.requestAnimationFrame((t) => { this.draw(t); });\r\n        console.log(this);\r\n\r\n        this.chasm = new Chasm(this, 1, 'black', 'black', 500, 400, 300, 250, 10, 10);\r\n\r\n        this.player = new Tri(this, 'black', 'white', 2, 480, 600, 500, 550, 520, 600);\r\n\r\n\r\n        this.arr = new Array;\r\n        let colors = ['red', 'orange', 'yellow', 'green', 'cyan', 'blue', 'purple', 'pink'];\r\n        for (let i in colors) {\r\n            this.arr.push(new Chasm(this, 1, 'black', colors[i], 500, 400, 10, 10, 30 * this.chasm.ratio, 30));\r\n        }\r\n\r\n        this.iter = 0;\r\n\r\n        this.start = false;\r\n\r\n        this.frequency = 3;\r\n        this.speed = 6;\r\n\r\n    }\r\n    sizeCanvas() {\r\n        this.w = this.ctx.canvas.width = window.innerWidth;\r\n        this.h = this.ctx.canvas.height = window.innerHeight;\r\n    }\r\n    draw(t) {\r\n        window.addEventListener('keydown', this.keyPress, false);\r\n\r\n        window.requestAnimationFrame((t) => { this.draw(t); });\r\n        this.ctx.clearRect(0, 0, this.w, this.h);\r\n        // this.chasm.draw();\r\n        this.background();\r\n\r\n        this.player.draw();\r\n    }\r\n\r\n    keyPress(e) {\r\n        var code = e.keyCode;\r\n        console.log(this.player);\r\n    switch (code) {\r\n        case 37: left(this.player); break; //Left key\r\n        case 38: up(this.player); break; //Up key\r\n        case 39: right(this.player); break; //Right key\r\n        case 40: down(this.player); break; //Down key\r\n        default: alert(code); //Everything else\r\n    }\r\n\r\n    function left(tri) {\r\n\r\n        console.log(tri);\r\n\r\n        tri.x1 -= 1;\r\n        tri.x2 -= 1;\r\n        tri.x3 -= 1;\r\n    }\r\n    function right(tri) {\r\n        tri.x1 += 1;\r\n        tri.x2 += 1;\r\n        tri.x3 += 1;\r\n    }\r\n    function down(tri) {\r\n        tri.y1 -= 1;\r\n        tri.y2 -= 1;\r\n        tri.y3 -= 1;\r\n    }\r\n    function up(tri) {\r\n        tri.y1 -= 1;\r\n        tri.y2 -= 1;\r\n        tri.y3 -= 1;\r\n    }\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n    initEvents() {\r\n        window.onresize = (e) => { this.sizeCanvas() };\r\n    }\r\n\r\n    randomPath() {\r\n        return (Math.random() * 2 - 1);\r\n    }\r\n\r\n    randomSize() {\r\n        return (Math.random() * 60);\r\n    }\r\n\r\n    rngColor() {\r\n\r\n        let r = Math.round(Math.random() * 255);\r\n        let b = Math.round(Math.random() * 255);\r\n        let g = Math.round(Math.random() * 255);\r\n\r\n        return ('rgb(' + r + ',' + g + ',' + b + ')');\r\n\r\n    }\r\n\r\n    background() {\r\n        if (this.start) {\r\n\r\n            //iter - 3/3 -- background one\r\n            for (let i = 0; i < this.frequency; i++) {\r\n                if (this.iter >= this.frequency) {\r\n                    // console.log(this.iter);\r\n                    this.arr[this.iter - this.frequency].draw();\r\n                } else {\r\n                    this.arr[this.arr.length - this.frequency + i].draw();\r\n                    // console.log(this.iter);\r\n                }\r\n            }\r\n\r\n            //     //the middle parts\r\n            //     for (let j = 1; j <= (this.frequency - 1); j++) {\r\n\r\n            //         for (let k = 0; k < j; k++) {\r\n            //             if (this.iter === k) {\r\n            //                 this.arr[this.arr.length - 1 - k].size_y += this.speed;\r\n            //                 this.arr[this.arr.length - 1 - k].size_x += this.speed * this.chasm.ratio;\r\n            //                 this.arr[this.arr.length - 1 - k].draw();\r\n            //             }\r\n            //         }\r\n            //     } else {\r\n            //         this.arr[this.iter - j].size_y += this.speed;\r\n            //         this.arr[this.iter - j].size_x += this.speed * this.chasm.ratio;\r\n            //         this.arr[this.iter - j].draw();\r\n            //     }\r\n            // }\r\n\r\n\r\n            //iter - 2/3\r\n            if (this.iter === 0) {\r\n                this.arr[this.arr.length - 2].size_y += this.speed;\r\n                this.arr[this.arr.length - 2].size_x += this.speed * this.chasm.ratio;\r\n                this.arr[this.arr.length - 2].draw();\r\n            } else if (this.iter === 1) {\r\n                this.arr[this.arr.length - 1].size_y += this.speed;\r\n                this.arr[this.arr.length - 1].size_x += this.speed * this.chasm.ratio;\r\n                this.arr[this.arr.length - 1].draw();\r\n            } else {\r\n                this.arr[this.iter - 2].size_y += this.speed;\r\n                this.arr[this.iter - 2].size_x += this.speed * this.chasm.ratio;\r\n                this.arr[this.iter - 2].draw();\r\n            }\r\n\r\n            //iter - 1/3\r\n            if (this.iter === 0) {\r\n                this.arr[this.arr.length - 1].size_y += this.speed;\r\n                this.arr[this.arr.length - 1].size_x += this.speed * this.chasm.ratio;\r\n                this.arr[this.arr.length - 1].draw();\r\n            } else {\r\n                this.arr[this.iter - 1].size_y += this.speed;\r\n                this.arr[this.iter - 1].size_x += this.speed * this.chasm.ratio;\r\n                this.arr[this.iter - 1].draw();\r\n            }\r\n\r\n        }\r\n\r\n        //current iter -- 0/3\r\n        this.arr[this.iter].draw();\r\n        this.arr[this.iter].size_y += this.speed;\r\n        this.arr[this.iter].size_x += this.speed * this.chasm.ratio;\r\n\r\n        if (this.arr[this.iter].size_y >= this.chasm.size_y / this.frequency) {\r\n            this.iter += 1;\r\n            this.start = true;\r\n        }\r\n\r\n        if (this.iter > this.arr.length - 1) {\r\n            this.iter = 0;\r\n        }\r\n\r\n        if (this.arr[this.iter].size_y >= this.chasm.size_y / this.frequency) {\r\n            this.arr[this.iter].size_y = 10;\r\n            this.arr[this.iter].size_x = 10;\r\n        }\r\n    }\r\n\r\n\r\n\r\n}\r\n\r\nvar app = new App();"],"sourceRoot":"/source/"}