{"version":3,"sources":["waves.ts"],"names":[],"mappings":"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","file":"waves.js","sourcesContent":["class Point {\r\n    app: App;\r\n    x: number;\r\n    y: number;\r\n    c: string;\r\n    constructor(app: App, x: number, y: number, color?: string) {\r\n        this.app = app;\r\n        this.x = x;\r\n        this.y = y;\r\n        this.c = color;\r\n    }\r\n\r\n    draw() {\r\n        const ctx = this.app.ctx;\r\n        ctx.fillStyle = this.c;\r\n        ctx.fillRect(this.x, this.y, 1, 1);\r\n    }\r\n}\r\n\r\nclass Wave {\r\n\r\n\r\n    app: App;\r\n    trig: string;\r\n    amp: number;\r\n    period: number;\r\n    x_shift: number;\r\n    y_shift: number;\r\n    length: number;\r\n    pos_x: number;\r\n    pos_y: number;\r\n\r\n    strokeColor: string;\r\n\r\n    lineWidth: number;\r\n\r\n    constructor(app: App, trig: string, amp: number, period: number, x_shift: number, y_shift: number, length: number, pos_x: number, pos_y: number, strokeColor: string) {\r\n        this.app = app;\r\n\r\n        this.trig = trig;\r\n\r\n        this.amp = amp;\r\n        this.period = period;\r\n        this.x_shift = x_shift;\r\n        this.y_shift = y_shift;\r\n\r\n        this.lineWidth = 1;\r\n\r\n        this.length = length;\r\n\r\n        this.pos_x = pos_x;\r\n        this.pos_y = pos_y;\r\n\r\n        this.strokeColor = strokeColor;\r\n\r\n\r\n    }\r\n\r\n    Sin(start: number, amp: number, period: number, x_shift: number, y_shift: number): number {\r\n        //Af(Bt - C) + D\r\n        return amp * Math.sin(start * (Math.PI / period) - x_shift) + y_shift;\r\n    }\r\n\r\n    Cos(start: number, amp: number, period: number, x_shift: number, y_shift: number): number {\r\n        //Af(Bt - C) + D\r\n        return amp * Math.sin(start * (Math.PI / period) - x_shift) + y_shift;\r\n    }\r\n\r\n    Tan(start: number, amp: number, period: number, x_shift: number, y_shift: number): number {\r\n        //Af(Bt - C) + D\r\n        return amp * Math.tan(start * (Math.PI / period) - x_shift) + y_shift;\r\n    }\r\n\r\n\r\n    draw() {\r\n        const ctx = this.app.ctx;\r\n\r\n        ctx.moveTo(this.pos_x, this.pos_y);\r\n        ctx.beginPath();\r\n\r\n\r\n        for (let start = 0; start <= this.length; start++) {\r\n\r\n            switch (this.trig) {\r\n                case 'Sin': { ctx.lineTo(this.pos_x + start, this.pos_y + this.Sin(start, this.amp, this.period, this.x_shift, this.y_shift)); break; }\r\n                case 'Cos': { ctx.lineTo(this.pos_x + start, this.pos_y + this.Cos(start, this.amp, this.period, this.x_shift, this.y_shift)); break; }\r\n                case 'Tan': { ctx.lineTo(this.pos_x + start, this.pos_y + this.Tan(start, this.amp, this.period, this.x_shift, this.y_shift)); break; }\r\n            }\r\n\r\n        }\r\n\r\n        ctx.lineWidth = this.lineWidth;\r\n\r\n        ctx.strokeStyle = this.strokeColor;\r\n\r\n        ctx.fillStyle = this.strokeColor;\r\n\r\n        ctx.stroke();\r\n\r\n\r\n\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\nclass App {\r\n    canvas: HTMLCanvasElement;\r\n    ctx: CanvasRenderingContext2D;\r\n    w: number;\r\n    h: number;\r\n\r\n    point: Point;\r\n    wave: Wave;\r\n\r\n    colors: any[];\r\n    arr: any[];\r\n\r\n    timer: number;\r\n\r\n\r\n    last_frame: number;\r\n\r\n\r\n    constructor() {\r\n        //Codepen doesn't like casting :'(\r\n        // this.canvas = document.getElementById('canvas');\r\n\r\n        const vm = this;\r\n\r\n\r\n        vm.canvas = <HTMLCanvasElement>document.getElementById('canvas');\r\n        vm.ctx = this.canvas.getContext('2d');\r\n        vm.sizeCanvas();\r\n        vm.initEvents();\r\n        window.requestAnimationFrame((t) => { vm.draw(t); });\r\n        console.log(vm);\r\n\r\n\r\n        vm.timer = 0;\r\n\r\n        vm.point = new Point(vm, 0, vm.h / 2, 'black');\r\n\r\n        vm.arr = new Array;\r\n\r\n\r\n        console.log(vm.arr);\r\n\r\n\r\n\r\n        vm.colors = ['red', 'orange', 'yellow', 'green', 'cyan', 'blue', 'purple', 'pink']\r\n\r\n        for (let i = 0; i < 20; i++) {\r\n            vm.arr.push(new Wave(vm, 'Sin', 100, 500, i*Math.PI/40, 0, vm.w, 0, vm.h / 2, vm.colors[(i % vm.colors.length)]));\r\n        }\r\n\r\n        for (let i = 0; i < 20; i++) {\r\n            vm.arr.push(new Wave(vm, 'Sin', 100, 500, -i*Math.PI/40 + Math.PI - 3*Math.PI/40, 0, vm.w, 0, vm.h / 2, vm.colors[(i % vm.colors.length)]));\r\n        }\r\n\r\n\r\n\r\n\r\n        // setTimeout(function () {\r\n        //     setInterval(function () {\r\n        //         vm.arr.push(new Wave(vm, 'Sin', 100, 500, 0, 0, vm.w, 0, vm.h / 2, vm.colors[(vm.iter % vm.colors.length)]));\r\n        //         vm.iter++;\r\n        //     }, 100);\r\n        // }, 300);\r\n\r\n        // setTimeout(function () {\r\n        //     setInterval(function () {\r\n        //         vm.arr.pop();\r\n        //     }, 100);\r\n        // }, 5000);\r\n\r\n\r\n\r\n\r\n\r\n        this.last_frame = null;\r\n\r\n    }\r\n    sizeCanvas() {\r\n        this.w = this.ctx.canvas.width = window.innerWidth;\r\n        this.h = this.ctx.canvas.height = window.innerHeight;\r\n    }\r\n    draw(t: any) {\r\n        window.requestAnimationFrame((t) => { this.draw(t); });\r\n\r\n        this.ctx.clearRect(0, 0, this.w, this.h);\r\n\r\n        for (let i = 0; i < this.arr.length/2; i++) {\r\n            this.arr[i].pos_x = this.w / 2;\r\n            this.arr[i].draw();\r\n            this.arr[i].x_shift += .1;\r\n        }\r\n        for (let i = this.arr.length/2; i < this.arr.length; i++) {\r\n            // this.arr[i].pos_x = this.w / 2;\r\n            this.arr[i].length = this.w / 2;\r\n            this.arr[i].draw();\r\n            this.arr[i].x_shift -= .1;\r\n        }\r\n\r\n        // for (let i in this.arr) {\r\n        //     this.arr[i].draw();\r\n        //     this.arr[i].x_shift += .1;\r\n        //     this.arr[i].amp += .1;\r\n        // }\r\n\r\n        this.last_frame = t;\r\n    }\r\n\r\n\r\n    initEvents() {\r\n        window.onresize = (e) => { this.sizeCanvas(); };\r\n    }\r\n\r\n    randomPath() {\r\n        return (Math.random() * 2 - 1);\r\n    }\r\n\r\n    randomSize() {\r\n        return (Math.random() * 60);\r\n    }\r\n\r\n    rngColor() {\r\n\r\n        let r = Math.round(Math.random() * 255);\r\n        let b = Math.round(Math.random() * 255);\r\n        let g = Math.round(Math.random() * 255);\r\n\r\n        return ('rgb(' + r + ',' + g + ',' + b + ')');\r\n\r\n    }\r\n}\r\n\r\nvar app = new App();"],"sourceRoot":"/source/"}