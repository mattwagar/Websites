(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
/*
app: main cavans
layers) (top to bottom)
menu
circles(position)
*/
function hslToRgb(h, s, l) {
    var r, g, b;
    if (s == 0) {
        r = g = b = l; // achromatic
    }
    else {
        var hue2rgb = function hue2rgb(p, q, t) {
            if (t < 0)
                t += 1;
            if (t > 1)
                t -= 1;
            if (t < 1 / 6)
                return p + (q - p) * 6 * t;
            if (t < 1 / 2)
                return q;
            if (t < 2 / 3)
                return p + (q - p) * (2 / 3 - t) * 6;
            return p;
        };
        var q = l < 0.5 ? l * (1 + s) : l + s - l * s;
        var p = 2 * l - q;
        r = hue2rgb(p, q, h + 1 / 3);
        g = hue2rgb(p, q, h);
        b = hue2rgb(p, q, h - 1 / 3);
    }
    return "rgb(" + Math.round(r * 255) + "," + Math.round(g * 255) + "," + Math.round(b * 255) + ")";
}
var Title = (function () {
    function Title(ctx, w, h) {
        var vm = this;
        vm.ctx = ctx;
        vm.w = w;
        vm.h = h;
        vm.text = "Contrast";
    }
    Title.prototype.draw = function () {
        var vm = this;
        vm.ctx.fillStyle = 'black';
        vm.ctx.font = 'bold 150px Courier';
        vm.ctx.textAlign = "center";
        vm.ctx.fillText(vm.text, vm.w / 2, vm.h / 5);
    };
    return Title;
}());
var Score = (function () {
    function Score(ctx, w, h) {
        var vm = this;
        vm.ctx = ctx;
        vm.score = 0;
        vm.seconds = 0;
        vm.w = w;
        vm.h = h;
        vm.scoreX = w / 2;
        vm.scoreY = h / 5;
        vm.timerX = w * (4 / 5);
        vm.timerY = h / 14;
        vm.t = 0;
        vm.offsetTime = 60;
    }
    Score.prototype.drawScore = function () {
        var vm = this;
        vm.ctx.fillStyle = 'black';
        vm.ctx.font = 'bold 200px Courier';
        vm.ctx.textAlign = "center";
        vm.ctx.fillText(vm.score.toString(), vm.scoreX, vm.scoreY);
    };
    Score.prototype.drawTimer = function (t) {
        var vm = this;
        var timer = vm.convertTime(t);
        vm.ctx.fillStyle = 'black';
        vm.ctx.font = 'bold 75px Courier';
        vm.ctx.textAlign = "center";
        vm.ctx.fillText(timer, vm.timerX, vm.timerY);
    };
    Score.prototype.convertTime = function (t) {
        var vm = this;
        vm.seconds = Math.ceil(60 - (t - vm.t) / 1000);
        var timer;
        var min = Math.floor(vm.seconds / 60);
        vm.seconds -= min * 60;
        if (vm.seconds > 9) {
            timer = min + ":" + vm.seconds;
        }
        else if (vm.seconds >= 0) {
            timer = min + ":0" + vm.seconds;
        }
        return timer;
    };
    Score.prototype.add = function (x) {
        var vm = this;
        vm.score += x;
    };
    return Score;
}());
var Circle = (function () {
    function Circle(ctx, x, y, w, h, r, hsl, innerText) {
        var vm = this;
        vm.w = w;
        vm.h = h;
        vm.x = x;
        vm.y = y;
        vm.r = r;
        vm.hsl = hsl;
        vm.color = hslToRgb(vm.hsl[0], vm.hsl[1], vm.hsl[2]);
        // vm.canvas = document.createElement('canvas');
        // vm.ctx = vm.canvas.getContext('2d');
        vm.ctx = ctx;
        vm.sizeCanvas();
        vm.xmin = vm.x - vm.r;
        vm.xmax = vm.x + vm.r;
        vm.ymin = vm.y - vm.r;
        vm.ymax = vm.y + vm.r;
        if (innerText) {
            vm.innerText = innerText;
        }
        else {
            vm.innerText = "";
        }
    }
    Circle.prototype.sizeCanvas = function () {
        var vm = this;
        vm.w = vm.ctx.canvas.width = window.innerWidth;
        vm.h = vm.ctx.canvas.height = window.innerHeight;
    };
    Circle.prototype.drawCircle = function () {
        var vm = this;
        // vm.ctx.clearRect(0,0,vm.w,vm.h);
        vm.ctx.beginPath();
        vm.ctx.arc(vm.x, vm.y, vm.r, 0, Math.PI * 2);
        vm.ctx.fillStyle = vm.color;
        vm.ctx.fill();
        vm.ctx.closePath();
    };
    Circle.prototype.drawText = function () {
        var vm = this;
        vm.ctx.fillStyle = 'black';
        vm.ctx.font = 'bold 100px Courier';
        vm.ctx.textAlign = "center";
        vm.ctx.fillText(vm.innerText, vm.x, vm.y + 25);
    };
    return Circle;
}());
var App = (function () {
    function App() {
        var vm = this;
        //Codepen doesn't like casting :'(
        // this.canvas = document.getElementById('canvas');
        vm.canvas = document.getElementById('canvas');
        vm.ctx = vm.canvas.getContext('2d');
        vm.sizeCanvas();
        // vm.initEvents();
        window.requestAnimationFrame(function (t) { vm.draw(t); });
        var temp = vm.rnghsl(0.8);
        vm.t = 0;
        vm.backgroundC = hslToRgb(temp[0], temp[1], temp[2]);
        vm.circles = [];
        vm.circles[0] = new Circle(vm.ctx, 3 * vm.w / 12, 5 * vm.h / 11, vm.w, vm.h, vm.w / 5, vm.rnghsl(0.5), "Play");
        vm.circles[1] = new Circle(vm.ctx, 9 * vm.w / 12, 5 * vm.h / 11, vm.w, vm.h, vm.w / 5, vm.rnghsl(0.5));
        vm.circles[2] = new Circle(vm.ctx, 3 * vm.w / 12, 8 * vm.h / 11, vm.w, vm.h, vm.w / 5, vm.rnghsl(0.5));
        vm.circles[3] = new Circle(vm.ctx, 9 * vm.w / 12, 8 * vm.h / 11, vm.w, vm.h, vm.w / 5, vm.rnghsl(0.5));
        vm.backCircle = new Circle(vm.ctx, 0, 0, 0, 0, 0, [1, 1, 1]);
        vm.changing = false;
        vm.color_change = false;
        vm.title = new Title(vm.ctx, vm.w, vm.h);
        vm.score = new Score(vm.ctx, vm.w, vm.h);
        vm.order = [];
        vm.mode = "titlescreen";
        vm.calculateContrastOrder();
        console.log(vm.order);
        // vm.circle.drawCircle();
        // vm.ctx.drawImage(vm.circle.canvas, 0, 0);
        vm.canvas.addEventListener('click', function (event) {
            console.log(vm.changing);
            for (var i = 0; i < vm.circles.length; i++) {
                if (vm.changing === false && (event.clientX > vm.circles[i].xmin && event.clientX < vm.circles[i].xmax) && (event.clientY > vm.circles[i].ymin && event.clientY < vm.circles[i].ymax)) {
                    if (vm.mode === "maingame") {
                        for (var j = 0; j < vm.order.length; j++) {
                            if (i === vm.order[j].id) {
                                vm.score.add((j + 1) * 100);
                            }
                        }
                    }
                    if (vm.mode === "titlescreen") {
                        switch (i) {
                            case 0:
                                setTimeout(function () {
                                    vm.mode = "maingame";
                                    vm.score.t = vm.t;
                                }, 200);
                                break;
                            case 1:
                                console.log("1");
                                break;
                            case 2:
                                console.log("2");
                                break;
                            case 3:
                                console.log("3");
                                break;
                            default:
                                console.log("other");
                        }
                    }
                    vm.setBackgroundCircle(i);
                }
            }
        });
    }
    App.prototype.initEvents = function () {
        var _this = this;
        window.onresize = function (e) { _this.sizeCanvas(); };
    };
    App.prototype.sizeCanvas = function () {
        var vm = this;
        vm.w = vm.ctx.canvas.width = window.innerWidth;
        vm.h = vm.ctx.canvas.height = window.innerHeight;
    };
    App.prototype.setBackgroundCircle = function (i) {
        var vm = this;
        vm.backgroundC = vm.backCircle.color;
        vm.backCircle.drawCircle();
        vm.drawCircles();
        vm.backCircle.x = vm.circles[i].x;
        vm.backCircle.y = vm.circles[i].y;
        vm.backCircle.w = vm.circles[i].w;
        vm.backCircle.h = vm.circles[i].h;
        vm.backCircle.r = vm.circles[i].r;
        vm.backCircle.hsl = vm.circles[i].hsl;
        vm.backCircle.color = vm.circles[i].color;
        vm.changing = true;
        vm.color_change = true;
    };
    App.prototype.calculateOneScore = function (circle) {
        // converts hue to [0,360]
        var vm = this;
        var x = Math.ceil(vm.backCircle.hsl[0] * 360);
        var y = Math.ceil(circle.hsl[0] * 360);
        // calculates clicked color and background color's difference in hue. returns a number [0, 180]
        if (Math.abs(x - y) < Math.abs((360 + y) - x) && Math.abs(x - y) < Math.abs(y - (360 + x))) {
            return (Math.abs(x - y));
        }
        else if (Math.abs((360 + y) - x) < Math.abs(y - (360 + x))) {
            return (Math.abs((360 + y) - x));
        }
        else {
            return (Math.abs(y - (360 + x)));
        }
    };
    App.prototype.calculateContrastOrder = function () {
        var vm = this;
        //loop through circles
        ///calcscores
        ///put in object with score and id greatest to least
        vm.order = [];
        for (var i = 0; i < vm.circles.length; i++) {
            var x = vm.calculateOneScore(vm.circles[i]);
            var l = vm.order.length;
            if (l === 0) {
                vm.order.push({ "id": i, "score": x });
            }
            else if (l > 0) {
                for (var j = 0; j < l; j++) {
                    if (vm.order[j].score > x) {
                        vm.order.splice(j, 0, ({ "id": i, "score": x }));
                        break;
                    }
                    else if (vm.order[j].score <= x && j === (l - 1)) {
                        vm.order.push({ "id": i, "score": x });
                        break;
                    }
                }
            }
        }
    };
    App.prototype.changeBackColor = function (color) {
        var vm = this;
        vm.backgroundC = color;
    };
    App.prototype.rnghsl = function (l) {
        var vm = this;
        var h = (Math.random() * 360) / 360;
        var s = 1.0;
        return [h, s, l];
    };
    App.prototype.resetColors = function () {
        var vm = this;
        for (var i = 0; i < vm.circles.length; i++) {
            vm.circles[i].r = 5;
            vm.circles[i].hsl = vm.rnghsl(0.5);
            vm.circles[i].color = hslToRgb(vm.circles[i].hsl[0], vm.circles[i].hsl[1], vm.circles[i].hsl[2]);
        }
        vm.calculateContrastOrder();
    };
    App.prototype.drawCircles = function () {
        var vm = this;
        for (var i = 0; i < vm.circles.length; i++) {
            if (vm.color_change) {
                vm.resetColors();
                vm.color_change = false;
            }
            if (vm.circles[i].r < (vm.w / 5)) {
                var t = (vm.circles[i].r / (vm.w / 5)) * 0.40; /*ratio of radius to size [0-1]*/
                vm.circles[i].r = Math.ceil(vm.circles[i].r * (1.40 - t));
            }
            vm.circles[i].drawCircle();
            if (vm.circles[i].innerText !== "" && vm.mode === "titlescreen") {
                vm.circles[i].drawText();
            }
        }
    };
    App.prototype.change = function () {
        var vm = this;
        if (vm.changing && vm.backCircle.r > vm.h) {
            vm.backCircle.drawCircle();
            vm.changing = false;
        }
        else if (vm.changing && vm.backCircle.r > vm.h / 2) {
            vm.backCircle.drawCircle();
            vm.backCircle.r = Math.ceil(vm.backCircle.r * 1.1);
            // vm.resetColors();
            vm.drawCircles();
        }
        else if (vm.changing) {
            // vm.drawCircles();
            vm.backCircle.drawCircle();
            vm.backCircle.r = Math.ceil(vm.backCircle.r * 1.1);
        }
        else {
            vm.backCircle.drawCircle();
            vm.drawCircles();
        }
    };
    App.prototype.draw = function (t) {
        var _this = this;
        var vm = this;
        window.requestAnimationFrame(function (t) { _this.draw(t); });
        vm.t = t;
        if (vm.changing === true) {
            vm.ctx.fillStyle = vm.backgroundC;
            vm.ctx.fillRect(0, 0, vm.w, vm.score.scoreY + 50);
        }
        vm.change();
        if (vm.mode === "titlescreen") {
            vm.title.draw();
        }
        else if (vm.mode === "maingame") {
            vm.score.drawScore();
            vm.score.drawTimer(t);
        }
    };
    return App;
}());
var app = new App();
},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvbWFpbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBOzs7OztFQUtFO0FBQ0Ysa0JBQWtCLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQztJQUNyQixJQUFJLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBRVosRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDVCxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxhQUFhO0lBQ2hDLENBQUM7SUFBQyxJQUFJLENBQUMsQ0FBQztRQUNKLElBQUksT0FBTyxHQUFHLGlCQUFpQixDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUM7WUFDbEMsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFBQyxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ2xCLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUNsQixFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDMUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztZQUN4QixFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFD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LFVBQUMsQ0FBQyxJQUFPLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUVyRCxJQUFJLElBQUksR0FBRyxFQUFFLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBRTFCLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBRVQsRUFBRSxDQUFDLFdBQVcsR0FBRyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNyRCxFQUFFLENBQUMsT0FBTyxHQUFHLEVBQUUsQ0FBQztRQUVoQixFQUFFLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksTUFBTSxDQUFDLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsRUFBRSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsRUFBRSxNQUFNLENBQUMsQ0FBQztRQUMvRyxFQUFFLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksTUFBTSxDQUFDLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsRUFBRSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3ZHLEVBQUUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxNQUFNLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDdkcsRUFBRSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLE1BQU0sQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUV2RyxFQUFFLENBQUMsVUFBVSxHQUFHLElBQUksTUFBTSxDQUFDLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUM3RCxFQUFFLENBQUMsUUFBUSxHQUFHLEtBQUssQ0FBQztRQUNwQixFQUFFLENBQUMsWUFBWSxHQUFHLEtBQUssQ0FBQztRQUV4QixFQUFFLENBQUMsS0FBSyxHQUFHLElBQUksS0FBSyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEVBQUUsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUE7UUFDeEMsRUFBRSxDQUFDLEtBQUssR0FBRyxJQUFJLEtBQUssQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFFLEVBQUUsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3pDLEVBQUUsQ0FBQyxLQUFLLEdBQUcsRUFBRSxDQUFDO1FBQ2QsRUFBRSxDQUFDLElBQUksR0FBRyxhQUFhLENBQUM7UUFFeEIsRUFBRSxDQUFDLHNCQUFzQixFQUFFLENBQUM7UUFDNUIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUM7UUFFdEIsMEJBQTBCO1FBQzFCLDRDQUE0QztRQUU1QyxFQUFFLENBQUMsTUFBTSxDQUFDLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxVQUFVLEtBQUs7WUFDL0MsT0FBTyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDekIsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUMsT0FBTyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDO2dCQUN6QyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsUUFBUSxLQUFLLEtBQUssSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLEdBQUcsRUFBRSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLElBQUksS0FBSyxDQUFDLE9BQU8sR0FBRyxFQUFFLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sR0FBRyxFQUFFLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksSUFBSSxLQUFLLENBQUMsT0FBTyxHQUFHLEVBQUUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO29CQUdwTCxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxLQUFLLFVBQVUsQ0FBQyxDQUFDLENBQUM7d0JBQ3pCLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQzs0QkFDdkMsRUFBRSxDQUFDLENBQUMsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztnQ0FDdkIsRUFBRSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUM7NEJBQ2hDLENBQUM7d0JBQ0wsQ0FBQztvQkFFTCxDQUFDO29CQUNELEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLEtBQUssYUFBYSxDQUFDLENBQUMsQ0FBQzt3QkFFNUIsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQzs0QkFDUixLQUFLLENBQUM7Z0NBQ04sVUFBVSxDQUFDO29DQUNQLEVBQUUsQ0FBQyxJQUFJLEdBQUcsVUFBVSxDQUFDO29DQUNyQixFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDO2dDQUN0QixDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUM7Z0NBQ0osS0FBSyxDQUFDOzRCQUNWLEtBQUssQ0FBQztnQ0FDRixPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dDQUNqQixLQUFLLENBQUM7NEJBQ1YsS0FBSyxDQUFDO2dDQUNGLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7Z0NBQ2pCLEtBQUssQ0FBQzs0QkFDVixLQUFLLENBQUM7Z0NBQ0YsT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztnQ0FDakIsS0FBSyxDQUFDOzRCQUNWO2dDQUNJLE9BQU8sQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLENBQUM7d0JBQzdCLENBQUM7b0JBQ0wsQ0FBQztvQkFFRCxFQUFFLENBQUMsbUJBQW1CLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBRTlCLENBQUM7WUFDTCxDQUFDO1FBQ0wsQ0FBQyxDQUFDLENBQUM7SUFFUCxDQUFDO0lBQ0Qsd0JBQVUsR0FBVjtRQUFBLGlCQUVDO1FBREcsTUFBTSxDQUFDLFFBQVEsR0FBRyxVQUFDLENBQUMsSUFBTyxLQUFJLENBQUMsVUFBVSxFQUFFLENBQUEsQ0FBQyxDQUFDLENBQUM7SUFDbkQsQ0FBQztJQUNELHdCQUFVLEdBQVY7UUFDSSxJQUFNLEVBQUUsR0FBRyxJQUFJLENBQUM7UUFDaEIsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxLQUFLLEdBQUcsTUFBTSxDQUFDLFVBQVUsQ0FBQztRQUMvQyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUMsV0FBVyxDQUFDO0lBQ3JELENBQUM7SUFDRCxpQ0FBbUIsR0FBbkIsVUFBb0IsQ0FBQztRQUNqQixJQUFNLEVBQUUsR0FBRyxJQUFJLENBQUM7UUFDaEIsRUFBRSxDQUFDLFdBQVcsR0FBRyxFQUFFLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQztRQUNyQyxFQUFFLENBQUMsVUFBVSxDQUFDLFVBQVUsRUFBRSxDQUFDO1FBQzNCLEVBQUUsQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUNqQixFQUFFLENBQUMsVUFBVSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNsQyxFQUFFLENBQUMsVUFBVSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNsQyxFQUFFLENBQUMsVUFBVSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNsQyxFQUFFLENBQUMsVUFBVSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNsQyxFQUFFLENBQUMsVUFBVSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNsQyxFQUFFLENBQUMsVUFBVSxDQUFDLEdBQUcsR0FBRyxFQUFFLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQztRQUN0QyxFQUFFLENBQUMsVUFBVSxDQUFDLEtBQUssR0FBRyxFQUFFLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQztRQUMxQyxFQUFFLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQztRQUNuQixFQUFFLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQztJQUUzQixDQUFDO0lBRUQsK0JBQWlCLEdBQWpCLFVBQWtCLE1BQU07UUFDcEIsMEJBQTBCO1FBQzFCLElBQU0sRUFBRSxHQUFHLElBQUksQ0FBQztRQUNoQixJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDO1FBQzlDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQztRQUN2QywrRkFBK0Y7UUFDL0YsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN6RixNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFBO1FBQzVCLENBQUM7UUFBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUMzRCxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDckMsQ0FBQztRQUFDLElBQUksQ0FBQyxDQUFDO1lBQ0osTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3JDLENBQUM7SUFDTCxDQUFDO0lBRUQsb0NBQXNCLEdBQXRCO1FBQ0ksSUFBTSxFQUFFLEdBQUcsSUFBSSxDQUFDO1FBQ2hCLHNCQUFzQjtRQUN0QixhQUFhO1FBQ2Isb0RBQW9EO1FBQ3BELEVBQUUsQ0FBQyxLQUFLLEdBQUcsRUFBRSxDQUFDO1FBQ2QsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUMsT0FBTyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDO1lBQ3pDLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQyxpQkFBaUIsQ0FBQyxFQUFFLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDNUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUM7WUFDeEIsRUFBRSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ1YsRUFBRSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBRSxJQUFJLEVBQUUsQ0FBQyxFQUFFLE9BQU8sRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1lBQzNDLENBQUM7WUFBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ2YsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQztvQkFDekIsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQzt3QkFDeEIsRUFBRSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsSUFBSSxFQUFFLENBQUMsRUFBRSxPQUFPLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFBO3dCQUNoRCxLQUFLLENBQUM7b0JBQ1YsQ0FBQztvQkFBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7d0JBQ2pELEVBQUUsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUUsSUFBSSxFQUFFLENBQUMsRUFBRSxPQUFPLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQzt3QkFDdkMsS0FBSyxDQUFDO29CQUNWLENBQUM7Z0JBQ0wsQ0FBQztZQUNMLENBQUM7UUFDTCxDQUFDO0lBRUwsQ0FBQztJQUVELDZCQUFlLEdBQWYsVUFBZ0IsS0FBYTtRQUN6QixJQUFNLEVBQUUsR0FBRyxJQUFJLENBQUM7UUFDaEIsRUFBRSxDQUFDLFdBQVcsR0FBRyxLQUFLLENBQUM7SUFDM0IsQ0FBQztJQUVELG9CQUFNLEdBQU4sVUFBTyxDQUFDO1FBQ0osSUFBTSxFQUFFLEdBQUcsSUFBSSxDQUFDO1FBQ2hCLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxHQUFHLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQztRQUNwQyxJQUFJLENBQUMsR0FBRyxHQUFHLENBQUM7UUFDWixNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3JCLENBQUM7SUFFRCx5QkFBVyxHQUFYO1FBQ0ksSUFBTSxFQUFFLEdBQUcsSUFBSSxDQUFDO1FBQ2hCLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDLE9BQU8sQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQztZQUN6QyxFQUFFLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDcEIsRUFBRSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUNuQyxFQUFFLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssR0FBRyxRQUFRLENBQUMsRUFBRSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQTtRQUNwRyxDQUFDO1FBRUQsRUFBRSxDQUFDLHNCQUFzQixFQUFFLENBQUM7SUFDaEMsQ0FBQztJQUVELHlCQUFXLEdBQVg7UUFDSSxJQUFNLEVBQUUsR0FBRyxJQUFJLENBQUM7UUFDaEIsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUMsT0FBTyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDO1lBQ3pDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDO2dCQUNsQixFQUFFLENBQUMsV0FBVyxFQUFFLENBQUM7Z0JBQ2pCLEVBQUUsQ0FBQyxZQUFZLEdBQUcsS0FBSyxDQUFDO1lBQzVCLENBQUM7WUFDRCxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUMvQixJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLGlDQUFpQztnQkFDaEYsRUFBRSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLElBQUksR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzlELENBQUM7WUFFRCxFQUFFLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLFVBQVUsRUFBRSxDQUFDO1lBQzNCLEVBQUUsQ0FBQSxDQUFDLEVBQUUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsU0FBUyxLQUFLLEVBQUUsSUFBSSxFQUFFLENBQUMsSUFBSSxLQUFHLGFBQWEsQ0FBQyxDQUFBLENBQUM7Z0JBQzFELEVBQUUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsUUFBUSxFQUFFLENBQUM7WUFDN0IsQ0FBQztRQUNMLENBQUM7SUFDTCxDQUFDO0lBRUQsb0JBQU0sR0FBTjtRQUNJLElBQU0sRUFBRSxHQUFHLElBQUksQ0FBQztRQUNoQixFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsUUFBUSxJQUFJLEVBQUUsQ0FBQyxVQUFVLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3hDLEVBQUUsQ0FBQyxVQUFVLENBQUMsVUFBVSxFQUFFLENBQUM7WUFDM0IsRUFBRSxDQUFDLFFBQVEsR0FBRyxLQUFLLENBQUM7UUFDeEIsQ0FBQztRQUNELElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsUUFBUSxJQUFJLEVBQUUsQ0FBQyxVQUFVLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNqRCxFQUFFLENBQUMsVUFBVSxDQUFDLFVBQVUsRUFBRSxDQUFDO1lBQzNCLEVBQUUsQ0FBQyxVQUFVLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLFVBQVUsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUM7WUFDbkQsb0JBQW9CO1lBQ3BCLEVBQUUsQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUNyQixDQUFDO1FBQ0QsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO1lBQ25CLG9CQUFvQjtZQUNwQixFQUFFLENBQUMsVUFBVSxDQUFDLFVBQVUsRUFBRSxDQUFDO1lBQzNCLEVBQUUsQ0FBQyxVQUFVLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLFVBQVUsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUM7UUFDdkQsQ0FBQztRQUFDLElBQUksQ0FBQyxDQUFDO1lBQ0osRUFBRSxDQUFDLFVBQVUsQ0FBQyxVQUFVLEVBQUUsQ0FBQztZQUMzQixFQUFFLENBQUMsV0FBVyxFQUFFLENBQUM7UUFDckIsQ0FBQztJQUtMLENBQUM7SUFFRCxrQkFBSSxHQUFKLFVBQUssQ0FBQztRQUFOLGlCQXlCQztRQXhCRyxJQUFNLEVBQUUsR0FBRyxJQUFJLENBQUM7UUFDaEIsTUFBTSxDQUFDLHFCQUFxQixDQUFDLFVBQUMsQ0FBQyxJQUFPLEtBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN2RCxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNULEVBQUUsQ0FBQSxDQUFDLEVBQUUsQ0FBQyxRQUFRLEtBQUssSUFBSSxDQUFDLENBQUEsQ0FBQztZQUNyQixFQUFFLENBQUMsR0FBRyxDQUFDLFNBQVMsR0FBRyxFQUFFLENBQUMsV0FBVyxDQUFDO1lBQ2xDLEVBQUUsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBQyxFQUFFLENBQUMsQ0FBQztRQUNsRCxDQUFDO1FBRUQsRUFBRSxDQUFDLE1BQU0sRUFBRSxDQUFDO1FBSVosRUFBRSxDQUFBLENBQUMsRUFBRSxDQUFDLElBQUksS0FBSyxhQUFhLENBQUMsQ0FBQSxDQUFDO1lBQzFCLEVBQUUsQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDcEIsQ0FBQztRQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxLQUFLLFVBQVUsQ0FBQyxDQUFBLENBQUM7WUFDL0IsRUFBRSxDQUFDLEtBQUssQ0FBQyxTQUFTLEVBQUUsQ0FBQztZQUNyQixFQUFFLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUUxQixDQUFDO0lBTUwsQ0FBQztJQUNMLFVBQUM7QUFBRCxDQWxRQSxBQWtRQyxJQUFBO0FBRUQsSUFBSSxHQUFHLEdBQUcsSUFBSSxHQUFHLEVBQUUsQ0FBQyIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCIvKlxyXG5hcHA6IG1haW4gY2F2YW5zXHJcbmxheWVycykgKHRvcCB0byBib3R0b20pXHJcbm1lbnVcclxuY2lyY2xlcyhwb3NpdGlvbilcclxuKi9cclxuZnVuY3Rpb24gaHNsVG9SZ2IoaCwgcywgbCkge1xyXG4gICAgdmFyIHIsIGcsIGI7XHJcblxyXG4gICAgaWYgKHMgPT0gMCkge1xyXG4gICAgICAgIHIgPSBnID0gYiA9IGw7IC8vIGFjaHJvbWF0aWNcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdmFyIGh1ZTJyZ2IgPSBmdW5jdGlvbiBodWUycmdiKHAsIHEsIHQpIHtcclxuICAgICAgICAgICAgaWYgKHQgPCAwKSB0ICs9IDE7XHJcbiAgICAgICAgICAgIGlmICh0ID4gMSkgdCAtPSAxO1xyXG4gICAgICAgICAgICBpZiAodCA8IDEgLyA2KSByZXR1cm4gcCArIChxIC0gcCkgKiA2ICogdDtcclxuICAgICAgICAgICAgaWYgKHQgPCAxIC8gMikgcmV0dXJuIHE7XHJcbiAgICAgICAgICAgIGlmICh0IDwgMiAvIDMpIHJldHVybiBwICsgKHEgLSBwKSAqICgyIC8gMyAtIHQpICogNjtcclxuICAgICAgICAgICAgcmV0dXJuIHA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgcSA9IGwgPCAwLjUgPyBsICogKDEgKyBzKSA6IGwgKyBzIC0gbCAqIHM7XHJcbiAgICAgICAgdmFyIHAgPSAyICogbCAtIHE7XHJcbiAgICAgICAgciA9IGh1ZTJyZ2IocCwgcSwgaCArIDEgLyAzKTtcclxuICAgICAgICBnID0gaHVlMnJnYihwLCBxLCBoKTtcclxuICAgICAgICBiID0gaHVlMnJnYihwLCBxLCBoIC0gMSAvIDMpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBcInJnYihcIiArIE1hdGgucm91bmQociAqIDI1NSkgKyBcIixcIiArIE1hdGgucm91bmQoZyAqIDI1NSkgKyBcIixcIiArIE1hdGgucm91bmQoYiAqIDI1NSkgKyBcIilcIjtcclxufVxyXG5cclxuXHJcbmNsYXNzIFRpdGxlIHtcclxuICAgIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xyXG4gICAgdGV4dDogc3RyaW5nO1xyXG4gICAgdzogbnVtYmVyO1xyXG4gICAgaDogbnVtYmVyO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCB3Om51bWJlciwgaDpudW1iZXIpe1xyXG4gICAgICAgIGNvbnN0IHZtID0gdGhpcztcclxuICAgICAgICB2bS5jdHggPSBjdHg7XHJcbiAgICAgICAgdm0udyA9IHc7XHJcbiAgICAgICAgdm0uaCA9IGg7XHJcbiAgICAgICAgdm0udGV4dCA9IFwiQ29udHJhc3RcIlxyXG4gICAgfVxyXG5cclxuICAgIGRyYXcoKXtcclxuICAgICAgICBjb25zdCB2bSA9IHRoaXM7XHJcbiAgICAgICAgdm0uY3R4LmZpbGxTdHlsZSA9ICdibGFjayc7XHJcbiAgICAgICAgdm0uY3R4LmZvbnQgPSAnYm9sZCAxNTBweCBDb3VyaWVyJztcclxuICAgICAgICB2bS5jdHgudGV4dEFsaWduID0gXCJjZW50ZXJcIjtcclxuICAgICAgICB2bS5jdHguZmlsbFRleHQodm0udGV4dCwgdm0udyAvIDIsIHZtLmggLyA1KTtcclxuICAgIH1cclxuXHJcbiAgICBcclxuXHJcblxyXG59XHJcbmNsYXNzIFNjb3JlIHtcclxuICAgIHNjb3JlOiBudW1iZXI7XHJcbiAgICBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcclxuICAgIHc6IG51bWJlcjtcclxuICAgIGg6IG51bWJlcjtcclxuICAgIHQ6IG51bWJlcjtcclxuICAgIHNjb3JlWDogbnVtYmVyO1xyXG4gICAgc2NvcmVZOiBudW1iZXI7XHJcbiAgICB0aW1lclg6IG51bWJlcjtcclxuICAgIHRpbWVyWTogbnVtYmVyO1xyXG4gICAgc2Vjb25kczogbnVtYmVyO1xyXG4gICAgb2Zmc2V0VGltZTogbnVtYmVyO1xyXG4gICAgY29uc3RydWN0b3IoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHc6IG51bWJlciwgaDogbnVtYmVyKSB7XHJcbiAgICAgICAgY29uc3Qgdm0gPSB0aGlzO1xyXG4gICAgICAgIHZtLmN0eCA9IGN0eDtcclxuICAgICAgICB2bS5zY29yZSA9IDA7XHJcbiAgICAgICAgdm0uc2Vjb25kcyA9IDA7XHJcbiAgICAgICAgdm0udyA9IHc7XHJcbiAgICAgICAgdm0uaCA9IGg7XHJcbiAgICAgICAgdm0uc2NvcmVYID0gdyAvIDI7XHJcbiAgICAgICAgdm0uc2NvcmVZID0gaCAvIDU7XHJcbiAgICAgICAgdm0udGltZXJYID0gdyAqICg0LzUpO1xyXG4gICAgICAgIHZtLnRpbWVyWSA9IGggLyAxNDtcclxuICAgICAgICB2bS50ID0gMDtcclxuICAgICAgICB2bS5vZmZzZXRUaW1lID0gNjA7XHJcbiAgICB9XHJcbiAgICBkcmF3U2NvcmUoKSB7XHJcbiAgICAgICAgY29uc3Qgdm0gPSB0aGlzO1xyXG4gICAgICAgIHZtLmN0eC5maWxsU3R5bGUgPSAnYmxhY2snO1xyXG4gICAgICAgIHZtLmN0eC5mb250ID0gJ2JvbGQgMjAwcHggQ291cmllcic7XHJcbiAgICAgICAgdm0uY3R4LnRleHRBbGlnbiA9IFwiY2VudGVyXCI7XHJcbiAgICAgICAgdm0uY3R4LmZpbGxUZXh0KHZtLnNjb3JlLnRvU3RyaW5nKCksIHZtLnNjb3JlWCwgdm0uc2NvcmVZKTtcclxuICAgIH1cclxuXHJcbiAgICBkcmF3VGltZXIodCl7XHJcbiAgICAgICAgY29uc3Qgdm0gPSB0aGlzO1xyXG5cclxuICAgICAgICB2YXIgdGltZXIgPSB2bS5jb252ZXJ0VGltZSh0KTtcclxuXHJcbiAgICAgICAgdm0uY3R4LmZpbGxTdHlsZSA9ICdibGFjayc7XHJcbiAgICAgICAgdm0uY3R4LmZvbnQgPSAnYm9sZCA3NXB4IENvdXJpZXInO1xyXG4gICAgICAgIHZtLmN0eC50ZXh0QWxpZ24gPSBcImNlbnRlclwiO1xyXG4gICAgICAgIHZtLmN0eC5maWxsVGV4dCh0aW1lciwgdm0udGltZXJYLCB2bS50aW1lclkpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnZlcnRUaW1lKHQpe1xyXG4gICAgICAgIGNvbnN0IHZtID0gdGhpcztcclxuICAgICAgICB2bS5zZWNvbmRzID0gTWF0aC5jZWlsKDYwIC0gKHQgLSB2bS50KS8xMDAwKTsgXHJcbiAgICAgICAgXHJcbiAgICAgICAgdmFyIHRpbWVyO1xyXG4gICAgICAgIHZhciBtaW4gPSBNYXRoLmZsb29yKHZtLnNlY29uZHMgLyA2MCk7XHJcbiAgICAgICAgdm0uc2Vjb25kcyAtPSBtaW4gKiA2MDtcclxuXHJcbiAgICAgICAgXHJcblxyXG4gICAgICAgIGlmKHZtLnNlY29uZHMgPiA5KXtcclxuICAgICAgICAgICAgdGltZXIgPSBtaW4rXCI6XCIrIHZtLnNlY29uZHM7XHJcbiAgICAgICAgfSBlbHNlIGlmICh2bS5zZWNvbmRzID49IDAgKXtcclxuICAgICAgICAgICAgdGltZXIgPSBtaW4rXCI6MFwiK3ZtLnNlY29uZHM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aW1lcjtcclxuICAgIH1cclxuXHJcblxyXG4gICAgYWRkKHg6IG51bWJlcikge1xyXG4gICAgICAgIGNvbnN0IHZtID0gdGhpcztcclxuICAgICAgICB2bS5zY29yZSArPSB4O1xyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBDaXJjbGUge1xyXG4gICAgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudDtcclxuICAgIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xyXG4gICAgdzogbnVtYmVyO1xyXG4gICAgaDogbnVtYmVyO1xyXG4gICAgeDogbnVtYmVyO1xyXG4gICAgeTogbnVtYmVyO1xyXG4gICAgcjogbnVtYmVyO1xyXG4gICAgaHNsOiBudW1iZXJbXTtcclxuICAgIGNvbG9yOiBzdHJpbmc7XHJcblxyXG4gICAgeG1pbjogbnVtYmVyO1xyXG4gICAgeG1heDogbnVtYmVyO1xyXG4gICAgeW1pbjogbnVtYmVyO1xyXG4gICAgeW1heDogbnVtYmVyO1xyXG5cclxuICAgIGlubmVyVGV4dDogc3RyaW5nO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCB4OiBudW1iZXIsIHk6IG51bWJlciwgdzogbnVtYmVyLCBoOiBudW1iZXIsIHI6IG51bWJlciwgaHNsOiBudW1iZXJbXSwgaW5uZXJUZXh0Pzogc3RyaW5nKSB7XHJcbiAgICAgICAgY29uc3Qgdm0gPSB0aGlzO1xyXG4gICAgICAgIHZtLncgPSB3O1xyXG4gICAgICAgIHZtLmggPSBoO1xyXG4gICAgICAgIHZtLnggPSB4O1xyXG4gICAgICAgIHZtLnkgPSB5O1xyXG4gICAgICAgIHZtLnIgPSByO1xyXG4gICAgICAgIHZtLmhzbCA9IGhzbDtcclxuICAgICAgICB2bS5jb2xvciA9IGhzbFRvUmdiKHZtLmhzbFswXSwgdm0uaHNsWzFdLCB2bS5oc2xbMl0pO1xyXG5cclxuICAgICAgICAvLyB2bS5jYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcclxuICAgICAgICAvLyB2bS5jdHggPSB2bS5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcclxuICAgICAgICB2bS5jdHggPSBjdHg7XHJcbiAgICAgICAgdm0uc2l6ZUNhbnZhcygpO1xyXG5cclxuICAgICAgICB2bS54bWluID0gdm0ueCAtIHZtLnI7XHJcbiAgICAgICAgdm0ueG1heCA9IHZtLnggKyB2bS5yO1xyXG4gICAgICAgIHZtLnltaW4gPSB2bS55IC0gdm0ucjtcclxuICAgICAgICB2bS55bWF4ID0gdm0ueSArIHZtLnI7XHJcblxyXG4gICAgICAgIGlmKGlubmVyVGV4dCl7XHJcbiAgICAgICAgICAgIHZtLmlubmVyVGV4dCA9IGlubmVyVGV4dDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB2bS5pbm5lclRleHQgPSBcIlwiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzaXplQ2FudmFzKCkge1xyXG4gICAgICAgIGNvbnN0IHZtID0gdGhpcztcclxuICAgICAgICB2bS53ID0gdm0uY3R4LmNhbnZhcy53aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xyXG4gICAgICAgIHZtLmggPSB2bS5jdHguY2FudmFzLmhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgZHJhd0NpcmNsZSgpIHtcclxuICAgICAgICBjb25zdCB2bSA9IHRoaXM7XHJcbiAgICAgICAgLy8gdm0uY3R4LmNsZWFyUmVjdCgwLDAsdm0udyx2bS5oKTtcclxuICAgICAgICB2bS5jdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgdm0uY3R4LmFyYyh2bS54LCB2bS55LCB2bS5yLCAwLCBNYXRoLlBJICogMik7XHJcbiAgICAgICAgdm0uY3R4LmZpbGxTdHlsZSA9IHZtLmNvbG9yO1xyXG4gICAgICAgIHZtLmN0eC5maWxsKCk7XHJcbiAgICAgICAgdm0uY3R4LmNsb3NlUGF0aCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGRyYXdUZXh0KCl7XHJcbiAgICAgICAgY29uc3Qgdm0gPSB0aGlzO1xyXG4gICAgICAgIHZtLmN0eC5maWxsU3R5bGUgPSAnYmxhY2snO1xyXG4gICAgICAgIHZtLmN0eC5mb250ID0gJ2JvbGQgMTAwcHggQ291cmllcic7XHJcbiAgICAgICAgdm0uY3R4LnRleHRBbGlnbiA9IFwiY2VudGVyXCI7XHJcbiAgICAgICAgdm0uY3R4LmZpbGxUZXh0KHZtLmlubmVyVGV4dCwgdm0ueCwgdm0ueSsyNSk7XHJcbiAgICB9XHJcblxyXG5cclxufVxyXG5cclxuXHJcblxyXG5jbGFzcyBBcHAge1xyXG4gICAgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudDtcclxuICAgIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xyXG4gICAgdzogbnVtYmVyO1xyXG4gICAgaDogbnVtYmVyO1xyXG4gICAgdDogbnVtYmVyO1xyXG4gICAgY2lyY2xlczogQ2lyY2xlW107XHJcbiAgICBiYWNrZ3JvdW5kQzogc3RyaW5nO1xyXG4gICAgYmFja0NpcmNsZTogQ2lyY2xlO1xyXG4gICAgY2hhbmdpbmc6IGJvb2xlYW47XHJcbiAgICBjb2xvcl9jaGFuZ2U6IGJvb2xlYW47XHJcbiAgICB0aXRsZTogVGl0bGU7XHJcbiAgICBzY29yZTogU2NvcmU7XHJcbiAgICBvcmRlcjogYW55W107XHJcbiAgICBtb2RlOiBzdHJpbmc7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgY29uc3Qgdm0gPSB0aGlzO1xyXG4gICAgICAgIC8vQ29kZXBlbiBkb2Vzbid0IGxpa2UgY2FzdGluZyA6JyhcclxuICAgICAgICAvLyB0aGlzLmNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYW52YXMnKTtcclxuICAgICAgICB2bS5jYW52YXMgPSA8SFRNTENhbnZhc0VsZW1lbnQ+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhbnZhcycpO1xyXG4gICAgICAgIHZtLmN0eCA9IHZtLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG5cclxuICAgICAgICB2bS5zaXplQ2FudmFzKCk7XHJcbiAgICAgICAgLy8gdm0uaW5pdEV2ZW50cygpO1xyXG4gICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKHQpID0+IHsgdm0uZHJhdyh0KTsgfSk7XHJcblxyXG4gICAgICAgIHZhciB0ZW1wID0gdm0ucm5naHNsKDAuOCk7XHJcblxyXG4gICAgICAgIHZtLnQgPSAwO1xyXG5cclxuICAgICAgICB2bS5iYWNrZ3JvdW5kQyA9IGhzbFRvUmdiKHRlbXBbMF0sIHRlbXBbMV0sIHRlbXBbMl0pO1xyXG4gICAgICAgIHZtLmNpcmNsZXMgPSBbXTtcclxuXHJcbiAgICAgICAgdm0uY2lyY2xlc1swXSA9IG5ldyBDaXJjbGUodm0uY3R4LCAzICogdm0udyAvIDEyLCA1ICogdm0uaCAvIDExLCB2bS53LCB2bS5oLCB2bS53IC8gNSwgdm0ucm5naHNsKDAuNSksIFwiUGxheVwiKTtcclxuICAgICAgICB2bS5jaXJjbGVzWzFdID0gbmV3IENpcmNsZSh2bS5jdHgsIDkgKiB2bS53IC8gMTIsIDUgKiB2bS5oIC8gMTEsIHZtLncsIHZtLmgsIHZtLncgLyA1LCB2bS5ybmdoc2woMC41KSk7XHJcbiAgICAgICAgdm0uY2lyY2xlc1syXSA9IG5ldyBDaXJjbGUodm0uY3R4LCAzICogdm0udyAvIDEyLCA4ICogdm0uaCAvIDExLCB2bS53LCB2bS5oLCB2bS53IC8gNSwgdm0ucm5naHNsKDAuNSkpO1xyXG4gICAgICAgIHZtLmNpcmNsZXNbM10gPSBuZXcgQ2lyY2xlKHZtLmN0eCwgOSAqIHZtLncgLyAxMiwgOCAqIHZtLmggLyAxMSwgdm0udywgdm0uaCwgdm0udyAvIDUsIHZtLnJuZ2hzbCgwLjUpKTtcclxuXHJcbiAgICAgICAgdm0uYmFja0NpcmNsZSA9IG5ldyBDaXJjbGUodm0uY3R4LCAwLCAwLCAwLCAwLCAwLCBbMSwgMSwgMV0pO1xyXG4gICAgICAgIHZtLmNoYW5naW5nID0gZmFsc2U7XHJcbiAgICAgICAgdm0uY29sb3JfY2hhbmdlID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHZtLnRpdGxlID0gbmV3IFRpdGxlKHZtLmN0eCwgdm0udywgdm0uaClcclxuICAgICAgICB2bS5zY29yZSA9IG5ldyBTY29yZSh2bS5jdHgsIHZtLncsIHZtLmgpO1xyXG4gICAgICAgIHZtLm9yZGVyID0gW107XHJcbiAgICAgICAgdm0ubW9kZSA9IFwidGl0bGVzY3JlZW5cIjtcclxuXHJcbiAgICAgICAgdm0uY2FsY3VsYXRlQ29udHJhc3RPcmRlcigpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHZtLm9yZGVyKTtcclxuXHJcbiAgICAgICAgLy8gdm0uY2lyY2xlLmRyYXdDaXJjbGUoKTtcclxuICAgICAgICAvLyB2bS5jdHguZHJhd0ltYWdlKHZtLmNpcmNsZS5jYW52YXMsIDAsIDApO1xyXG5cclxuICAgICAgICB2bS5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2codm0uY2hhbmdpbmcpO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZtLmNpcmNsZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmICh2bS5jaGFuZ2luZyA9PT0gZmFsc2UgJiYgKGV2ZW50LmNsaWVudFggPiB2bS5jaXJjbGVzW2ldLnhtaW4gJiYgZXZlbnQuY2xpZW50WCA8IHZtLmNpcmNsZXNbaV0ueG1heCkgJiYgKGV2ZW50LmNsaWVudFkgPiB2bS5jaXJjbGVzW2ldLnltaW4gJiYgZXZlbnQuY2xpZW50WSA8IHZtLmNpcmNsZXNbaV0ueW1heCkpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZtLm1vZGUgPT09IFwibWFpbmdhbWVcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHZtLm9yZGVyLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PT0gdm0ub3JkZXJbal0uaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2bS5zY29yZS5hZGQoKGogKyAxKSAqIDEwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2bS5tb2RlID09PSBcInRpdGxlc2NyZWVuXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoaSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2bS5tb2RlID0gXCJtYWluZ2FtZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZtLnNjb3JlLnQgPSB2bS50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMjAwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIjFcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCIyXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiM1wiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwib3RoZXJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZtLnNldEJhY2tncm91bmRDaXJjbGUoaSk7XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9XHJcbiAgICBpbml0RXZlbnRzKCkge1xyXG4gICAgICAgIHdpbmRvdy5vbnJlc2l6ZSA9IChlKSA9PiB7IHRoaXMuc2l6ZUNhbnZhcygpIH07XHJcbiAgICB9XHJcbiAgICBzaXplQ2FudmFzKCkge1xyXG4gICAgICAgIGNvbnN0IHZtID0gdGhpcztcclxuICAgICAgICB2bS53ID0gdm0uY3R4LmNhbnZhcy53aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xyXG4gICAgICAgIHZtLmggPSB2bS5jdHguY2FudmFzLmhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcclxuICAgIH1cclxuICAgIHNldEJhY2tncm91bmRDaXJjbGUoaSkge1xyXG4gICAgICAgIGNvbnN0IHZtID0gdGhpcztcclxuICAgICAgICB2bS5iYWNrZ3JvdW5kQyA9IHZtLmJhY2tDaXJjbGUuY29sb3I7XHJcbiAgICAgICAgdm0uYmFja0NpcmNsZS5kcmF3Q2lyY2xlKCk7XHJcbiAgICAgICAgdm0uZHJhd0NpcmNsZXMoKTtcclxuICAgICAgICB2bS5iYWNrQ2lyY2xlLnggPSB2bS5jaXJjbGVzW2ldLng7XHJcbiAgICAgICAgdm0uYmFja0NpcmNsZS55ID0gdm0uY2lyY2xlc1tpXS55O1xyXG4gICAgICAgIHZtLmJhY2tDaXJjbGUudyA9IHZtLmNpcmNsZXNbaV0udztcclxuICAgICAgICB2bS5iYWNrQ2lyY2xlLmggPSB2bS5jaXJjbGVzW2ldLmg7XHJcbiAgICAgICAgdm0uYmFja0NpcmNsZS5yID0gdm0uY2lyY2xlc1tpXS5yO1xyXG4gICAgICAgIHZtLmJhY2tDaXJjbGUuaHNsID0gdm0uY2lyY2xlc1tpXS5oc2w7XHJcbiAgICAgICAgdm0uYmFja0NpcmNsZS5jb2xvciA9IHZtLmNpcmNsZXNbaV0uY29sb3I7XHJcbiAgICAgICAgdm0uY2hhbmdpbmcgPSB0cnVlO1xyXG4gICAgICAgIHZtLmNvbG9yX2NoYW5nZSA9IHRydWU7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGNhbGN1bGF0ZU9uZVNjb3JlKGNpcmNsZSkge1xyXG4gICAgICAgIC8vIGNvbnZlcnRzIGh1ZSB0byBbMCwzNjBdXHJcbiAgICAgICAgY29uc3Qgdm0gPSB0aGlzO1xyXG4gICAgICAgIHZhciB4ID0gTWF0aC5jZWlsKHZtLmJhY2tDaXJjbGUuaHNsWzBdICogMzYwKTtcclxuICAgICAgICB2YXIgeSA9IE1hdGguY2VpbChjaXJjbGUuaHNsWzBdICogMzYwKTtcclxuICAgICAgICAvLyBjYWxjdWxhdGVzIGNsaWNrZWQgY29sb3IgYW5kIGJhY2tncm91bmQgY29sb3IncyBkaWZmZXJlbmNlIGluIGh1ZS4gcmV0dXJucyBhIG51bWJlciBbMCwgMTgwXVxyXG4gICAgICAgIGlmIChNYXRoLmFicyh4IC0geSkgPCBNYXRoLmFicygoMzYwICsgeSkgLSB4KSAmJiBNYXRoLmFicyh4IC0geSkgPCBNYXRoLmFicyh5IC0gKDM2MCArIHgpKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gKE1hdGguYWJzKHggLSB5KSlcclxuICAgICAgICB9IGVsc2UgaWYgKE1hdGguYWJzKCgzNjAgKyB5KSAtIHgpIDwgTWF0aC5hYnMoeSAtICgzNjAgKyB4KSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIChNYXRoLmFicygoMzYwICsgeSkgLSB4KSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIChNYXRoLmFicyh5IC0gKDM2MCArIHgpKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNhbGN1bGF0ZUNvbnRyYXN0T3JkZXIoKSB7XHJcbiAgICAgICAgY29uc3Qgdm0gPSB0aGlzO1xyXG4gICAgICAgIC8vbG9vcCB0aHJvdWdoIGNpcmNsZXNcclxuICAgICAgICAvLy9jYWxjc2NvcmVzXHJcbiAgICAgICAgLy8vcHV0IGluIG9iamVjdCB3aXRoIHNjb3JlIGFuZCBpZCBncmVhdGVzdCB0byBsZWFzdFxyXG4gICAgICAgIHZtLm9yZGVyID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2bS5jaXJjbGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciB4ID0gdm0uY2FsY3VsYXRlT25lU2NvcmUodm0uY2lyY2xlc1tpXSk7XHJcbiAgICAgICAgICAgIHZhciBsID0gdm0ub3JkZXIubGVuZ3RoO1xyXG4gICAgICAgICAgICBpZiAobCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgdm0ub3JkZXIucHVzaCh7IFwiaWRcIjogaSwgXCJzY29yZVwiOiB4IH0pO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGwgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGw7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2bS5vcmRlcltqXS5zY29yZSA+IHgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdm0ub3JkZXIuc3BsaWNlKGosIDAsICh7IFwiaWRcIjogaSwgXCJzY29yZVwiOiB4IH0pKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHZtLm9yZGVyW2pdLnNjb3JlIDw9IHggJiYgaiA9PT0gKGwgLSAxKSkgeyAvL2lmIGxhc3QgaXRlcmF0aW9uIG9mIHZtLm9yZGVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZtLm9yZGVyLnB1c2goeyBcImlkXCI6IGksIFwic2NvcmVcIjogeCB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBjaGFuZ2VCYWNrQ29sb3IoY29sb3I6IHN0cmluZykge1xyXG4gICAgICAgIGNvbnN0IHZtID0gdGhpcztcclxuICAgICAgICB2bS5iYWNrZ3JvdW5kQyA9IGNvbG9yO1xyXG4gICAgfVxyXG5cclxuICAgIHJuZ2hzbChsKSB7XHJcbiAgICAgICAgY29uc3Qgdm0gPSB0aGlzO1xyXG4gICAgICAgIHZhciBoID0gKE1hdGgucmFuZG9tKCkgKiAzNjApIC8gMzYwO1xyXG4gICAgICAgIHZhciBzID0gMS4wO1xyXG4gICAgICAgIHJldHVybiBbaCwgcywgbF07XHJcbiAgICB9XHJcblxyXG4gICAgcmVzZXRDb2xvcnMoKSB7XHJcbiAgICAgICAgY29uc3Qgdm0gPSB0aGlzO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdm0uY2lyY2xlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2bS5jaXJjbGVzW2ldLnIgPSA1O1xyXG4gICAgICAgICAgICB2bS5jaXJjbGVzW2ldLmhzbCA9IHZtLnJuZ2hzbCgwLjUpO1xyXG4gICAgICAgICAgICB2bS5jaXJjbGVzW2ldLmNvbG9yID0gaHNsVG9SZ2Iodm0uY2lyY2xlc1tpXS5oc2xbMF0sIHZtLmNpcmNsZXNbaV0uaHNsWzFdLCB2bS5jaXJjbGVzW2ldLmhzbFsyXSlcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZtLmNhbGN1bGF0ZUNvbnRyYXN0T3JkZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBkcmF3Q2lyY2xlcygpIHtcclxuICAgICAgICBjb25zdCB2bSA9IHRoaXM7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2bS5jaXJjbGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmICh2bS5jb2xvcl9jaGFuZ2UpIHtcclxuICAgICAgICAgICAgICAgIHZtLnJlc2V0Q29sb3JzKCk7XHJcbiAgICAgICAgICAgICAgICB2bS5jb2xvcl9jaGFuZ2UgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodm0uY2lyY2xlc1tpXS5yIDwgKHZtLncgLyA1KSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHQgPSAodm0uY2lyY2xlc1tpXS5yIC8gKHZtLncgLyA1KSkgKiAwLjQwOyAvKnJhdGlvIG9mIHJhZGl1cyB0byBzaXplIFswLTFdKi9cclxuICAgICAgICAgICAgICAgIHZtLmNpcmNsZXNbaV0uciA9IE1hdGguY2VpbCh2bS5jaXJjbGVzW2ldLnIgKiAoMS40MCAtIHQpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgdm0uY2lyY2xlc1tpXS5kcmF3Q2lyY2xlKCk7XHJcbiAgICAgICAgICAgIGlmKHZtLmNpcmNsZXNbaV0uaW5uZXJUZXh0ICE9PSBcIlwiICYmIHZtLm1vZGU9PT1cInRpdGxlc2NyZWVuXCIpe1xyXG4gICAgICAgICAgICAgICAgdm0uY2lyY2xlc1tpXS5kcmF3VGV4dCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNoYW5nZSgpIHtcclxuICAgICAgICBjb25zdCB2bSA9IHRoaXM7XHJcbiAgICAgICAgaWYgKHZtLmNoYW5naW5nICYmIHZtLmJhY2tDaXJjbGUuciA+IHZtLmgpIHsvKnJlc2V0cyB2YWx1ZXMgZm9yIGEgc3BsaXQgc2Vjb25kIHRvIGVuZCovXHJcbiAgICAgICAgICAgIHZtLmJhY2tDaXJjbGUuZHJhd0NpcmNsZSgpO1xyXG4gICAgICAgICAgICB2bS5jaGFuZ2luZyA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh2bS5jaGFuZ2luZyAmJiB2bS5iYWNrQ2lyY2xlLnIgPiB2bS5oIC8gMikgeyAvKkluIHRoZSBwcm9jZXNzIG9mIGNoYW5naW5nIGFmdGVyIGl0IHBhc3NlcyBjaXJjbGVzKi9cclxuICAgICAgICAgICAgdm0uYmFja0NpcmNsZS5kcmF3Q2lyY2xlKCk7XHJcbiAgICAgICAgICAgIHZtLmJhY2tDaXJjbGUuciA9IE1hdGguY2VpbCh2bS5iYWNrQ2lyY2xlLnIgKiAxLjEpO1xyXG4gICAgICAgICAgICAvLyB2bS5yZXNldENvbG9ycygpO1xyXG4gICAgICAgICAgICB2bS5kcmF3Q2lyY2xlcygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh2bS5jaGFuZ2luZykgeyAvKkluIHRoZSBwcm9jZXNzIG9mIGNoYW5naW5nKi9cclxuICAgICAgICAgICAgLy8gdm0uZHJhd0NpcmNsZXMoKTtcclxuICAgICAgICAgICAgdm0uYmFja0NpcmNsZS5kcmF3Q2lyY2xlKCk7XHJcbiAgICAgICAgICAgIHZtLmJhY2tDaXJjbGUuciA9IE1hdGguY2VpbCh2bS5iYWNrQ2lyY2xlLnIgKiAxLjEpO1xyXG4gICAgICAgIH0gZWxzZSB7IC8qU3RpbGwqL1xyXG4gICAgICAgICAgICB2bS5iYWNrQ2lyY2xlLmRyYXdDaXJjbGUoKTtcclxuICAgICAgICAgICAgdm0uZHJhd0NpcmNsZXMoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIFxyXG5cclxuICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICBkcmF3KHQpIHtcclxuICAgICAgICBjb25zdCB2bSA9IHRoaXM7XHJcbiAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgodCkgPT4geyB0aGlzLmRyYXcodCk7IH0pO1xyXG4gICAgICAgIHZtLnQgPSB0O1xyXG4gICAgICAgIGlmKHZtLmNoYW5naW5nID09PSB0cnVlKXtcclxuICAgICAgICAgICAgdm0uY3R4LmZpbGxTdHlsZSA9IHZtLmJhY2tncm91bmRDO1xyXG4gICAgICAgICAgICB2bS5jdHguZmlsbFJlY3QoMCwwLHZtLncsIHZtLnNjb3JlLnNjb3JlWSs1MCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2bS5jaGFuZ2UoKTtcclxuXHJcbiAgICAgICAgXHJcblxyXG4gICAgICAgIGlmKHZtLm1vZGUgPT09IFwidGl0bGVzY3JlZW5cIil7XHJcbiAgICAgICAgICAgIHZtLnRpdGxlLmRyYXcoKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHZtLm1vZGUgPT09IFwibWFpbmdhbWVcIil7XHJcbiAgICAgICAgICAgIHZtLnNjb3JlLmRyYXdTY29yZSgpO1xyXG4gICAgICAgICAgICB2bS5zY29yZS5kcmF3VGltZXIodCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBcclxuXHJcblxyXG5cclxuICAgIH1cclxufVxyXG5cclxudmFyIGFwcCA9IG5ldyBBcHAoKTsiXX0=
